# Домашнее задание к занятию 3 «Резервное копирование» - Волкивский Андрей

Задание 1

Составьте команду rsync, которая позволяет создавать зеркальную копию домашней директории пользователя в директорию /tmp/backup

Необходимо исключить из синхронизации все директории, начинающиеся с точки (скрытые)

Необходимо сделать так, чтобы rsync подсчитывал хэш-суммы для всех файлов, даже если их время модификации и размер идентичны в источнике и приемнике.

На проверку направить скриншот с командой и результатом ее выполнения

Решение 1 

Создаем папку backup в директории /tmp

mkdir -p /tmp/backup

Делаем зеркальную копию домашней директории моего пользователя в директорию /tmp/backup , с условиями указанными ниже в задании

rsync -av --checksum --delete --exclude=".*/" ~/ /tmp/backup/

<img width="1534" height="1007" alt="image" src="https://github.com/user-attachments/assets/372dce68-cf27-49fa-a30a-fd6bfa0d1822" />

<img width="1294" height="1087" alt="image" src="https://github.com/user-attachments/assets/6a460c9c-4f9c-46a0-a1a0-b49e821ea2c8" />


---

Задание 2

Написать скрипт и настроить задачу на регулярное резервное копирование домашней директории пользователя с помощью rsync и cron.

Резервная копия должна быть полностью зеркальной

Резервная копия должна создаваться раз в день, в системном логе должна появляться запись об успешном или неуспешном выполнении операции

Резервная копия размещается локально, в директории /tmp/backup

На проверку направить файл crontab и скриншот с результатом работы утилиты.

Решение 2

Создаем файл скрипта /usr/local/bin/backup.sh

<img width="1148" height="204" alt="image" src="https://github.com/user-attachments/assets/ad009138-b303-458a-9900-509eafe7a82f" />

Содержимое скрипта:

<img width="1141" height="680" alt="image" src="https://github.com/user-attachments/assets/bf413420-cff9-449c-9e8f-f49f5fa187f3" />

Отредактируем crontab, добавим в конец следующую строку для выполнения резервного копирования каждый день в 3:00 ночи:

<img width="1009" height="571" alt="image" src="https://github.com/user-attachments/assets/cdb0797f-d1e7-4d01-b2be-b863e36df474" />

Запускаем скрипт вручную: /usr/local/bin/backup.sh после смотрим логи

<img width="1509" height="662" alt="image" src="https://github.com/user-attachments/assets/efa4c380-bbca-4e29-b638-81880cd52cca" />
